<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Cronograma de Estudos - Medicina Veterinária</title>
  <!-- Fonte moderna -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    /* Reset e fontes */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #e0f7fa, #ffffff);
      color: #333;
      line-height: 1.6;
      padding: 20px;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      overflow: hidden;
    }
    header {
      background: linear-gradient(135deg, #00796b, #004d40);
      color: #fff;
      padding: 40px 20px;
      text-align: center;
    }
    header h1 {
      font-size: 2em;
      margin-bottom: 10px;
    }
    header p {
      font-size: 1.1em;
    }
    section {
      padding: 30px 20px;
    }
    .hidden {
      display: none;
    }
    button {
      background-color: #00796b;
      color: #fff;
      border: none;
      padding: 12px 24px;
      margin: 20px 0;
      border-radius: 50px;
      font-size: 1em;
      transition: background 0.3s;
      cursor: pointer;
    }
    button:hover {
      background-color: #005b4f;
    }
    .section-header {
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid #00796b;
      font-size: 1.5em;
      font-weight: 600;
      text-align: center;
    }
    /* Disponibilidade de Horas por Dia */
    #dias-semana {
      margin-bottom: 30px;
    }
    .day-input {
      background-color: #f1f8e9;
      border: 1px solid #c5e1a5;
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    .day-input span {
      flex: 1;
      font-weight: 600;
      font-size: 1.1em;
    }
    .day-controls {
      display: flex;
      align-items: center;
    }
    .day-controls button {
      width: 35px;
      height: 35px;
      border-radius: 50%;
      font-size: 1.2em;
      background-color: #00796b;
      color: #fff;
      border: none;
      margin: 0 5px;
      transition: background 0.3s;
      cursor: pointer;
    }
    .day-controls button:hover {
      background-color: #005b4f;
    }
    .day-controls input[type="number"] {
      width: 70px;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 5px;
      text-align: center;
      font-size: 1em;
    }
    /* Disciplinas */
    .discipline {
      border: 1px solid #e0e0e0;
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 20px;
      background-color: #fafafa;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    .discipline h3 {
      margin-bottom: 10px;
      color: #00796b;
      font-size: 1.2em;
    }
    .discipline label {
      display: block;
      margin-bottom: 10px;
      font-weight: 500;
    }
    .difficulty-slider {
      width: 100%;
      margin-top: 5px;
      /* Usado o accent-color para definir a cor do slider */
    }
    .difficulty-label {
      font-weight: 600;
      margin-left: 10px;
    }
    /* Tabela de Cronograma */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    table th, table td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: center;
    }
    table th {
      background-color: #e0f7fa;
      font-weight: 600;
    }
    /* Responsividade */
    @media (max-width: 600px) {
      header h1 {
        font-size: 1.5em;
      }
      .day-input {
        flex-direction: column;
        align-items: flex-start;
      }
      .day-controls {
        margin-top: 10px;
        width: 100%;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Cronograma de Estudos Dinâmico</h1>
      <p>O cronograma que se adapta à sua agenda para o 1º período de Medicina Veterinária</p>
      <button id="startBtn">Vamos criar um cronograma</button>
    </header>
    
    <!-- Configuração do Cronograma -->
    <section id="config" class="hidden">
      <div class="section-header">Configuração do Cronograma</div>
      <p>Defina a quantidade de horas disponíveis para estudo em cada dia da semana. Use os botões “+” e “−” ou digite o valor desejado.</p>
      
      <!-- Disponibilidade de Horas por Dia -->
      <div id="dias-semana">
        <h3 style="margin-bottom:15px;">Disponibilidade de Horas por Dia</h3>
        <div class="day-input">
          <span>Segunda-feira</span>
          <div class="day-controls">
            <button class="decrease" data-day="segunda">−</button>
            <input type="number" id="segunda" min="0" value="0">
            <button class="increase" data-day="segunda">+</button>
          </div>
        </div>
        <div class="day-input">
          <span>Terça-feira</span>
          <div class="day-controls">
            <button class="decrease" data-day="terca">−</button>
            <input type="number" id="terca" min="0" value="0">
            <button class="increase" data-day="terca">+</button>
          </div>
        </div>
        <div class="day-input">
          <span>Quarta-feira</span>
          <div class="day-controls">
            <button class="decrease" data-day="quarta">−</button>
            <input type="number" id="quarta" min="0" value="0">
            <button class="increase" data-day="quarta">+</button>
          </div>
        </div>
        <div class="day-input">
          <span>Quinta-feira</span>
          <div class="day-controls">
            <button class="decrease" data-day="quinta">−</button>
            <input type="number" id="quinta" min="0" value="0">
            <button class="increase" data-day="quinta">+</button>
          </div>
        </div>
        <div class="day-input">
          <span>Sexta-feira</span>
          <div class="day-controls">
            <button class="decrease" data-day="sexta">−</button>
            <input type="number" id="sexta" min="0" value="0">
            <button class="increase" data-day="sexta">+</button>
          </div>
        </div>
        <div class="day-input">
          <span>Sábado</span>
          <div class="day-controls">
            <button class="decrease" data-day="sabado">−</button>
            <input type="number" id="sabado" min="0" value="0">
            <button class="increase" data-day="sabado">+</button>
          </div>
        </div>
        <div class="day-input">
          <span>Domingo</span>
          <div class="day-controls">
            <button class="decrease" data-day="domingo">−</button>
            <input type="number" id="domingo" min="0" value="0">
            <button class="increase" data-day="domingo">+</button>
          </div>
        </div>
      </div>
      
      <!-- Disciplinas -->
      <div id="disciplinas">
        <h3>Disciplinas e Níveis de Dificuldade</h3>
        <p>Ajuste a dificuldade de cada disciplina utilizando a barra abaixo. As cores indicam o nível:</p>
        <ul style="margin-bottom:15px;">
          <li><span style="color:#4CAF50;">Verde: Fácil</span></li>
          <li><span style="color:#FFC107;">Amarelo: Normal</span></li>
          <li><span style="color:#FF9800;">Laranja: Mediano</span></li>
          <li><span style="color:#F44336;">Vermelho: Difícil</span></li>
          <li><span style="color:#B71C1C;">Vermelho Escuro: Muito Difícil</span></li>
        </ul>
        <p>Marque a opção para ignorar a disciplina, se desejar.</p>
        
        <div class="discipline" data-index="0">
          <h3>PROCESSOS BIOQUÍMICOS E BIOFÍSICOS EM ANIMAIS</h3>
          <label>Dificuldade:
            <input type="range" min="1" max="5" value="3" class="difficulty-slider" data-discipline="0">
            <span class="difficulty-label" id="label-0">Mediano</span>
          </label>
          <label>
            <input type="checkbox" class="ignore-discipline" data-discipline="0"> Ignorar disciplina
          </label>
        </div>
        <div class="discipline" data-index="1">
          <h3>ANATOMIA ESTRUTURAL ANIMAL</h3>
          <label>Dificuldade:
            <input type="range" min="1" max="5" value="3" class="difficulty-slider" data-discipline="1">
            <span class="difficulty-label" id="label-1">Mediano</span>
          </label>
          <label>
            <input type="checkbox" class="ignore-discipline" data-discipline="1"> Ignorar disciplina
          </label>
        </div>
        <div class="discipline" data-index="2">
          <h3>CITOLOGIA E EMBRIOLOGIA VETERINÁRIA</h3>
          <label>Dificuldade:
            <input type="range" min="1" max="5" value="3" class="difficulty-slider" data-discipline="2">
            <span class="difficulty-label" id="label-2">Mediano</span>
          </label>
          <label>
            <input type="checkbox" class="ignore-discipline" data-discipline="2"> Ignorar disciplina
          </label>
        </div>
        <div class="discipline" data-index="3">
          <h3>BIOTERISMO E BEM-ESTAR ANIMAL</h3>
          <label>Dificuldade:
            <input type="range" min="1" max="5" value="3" class="difficulty-slider" data-discipline="3">
            <span class="difficulty-label" id="label-3">Mediano</span>
          </label>
          <label>
            <input type="checkbox" class="ignore-discipline" data-discipline="3"> Ignorar disciplina
          </label>
        </div>
        <div class="discipline" data-index="4">
          <h3>ECOLOGIA, MANEJO E CONSERVAÇÃO DA VIDA SILVESTRE</h3>
          <label>Dificuldade:
            <input type="range" min="1" max="5" value="3" class="difficulty-slider" data-discipline="4">
            <span class="difficulty-label" id="label-4">Mediano</span>
          </label>
          <label>
            <input type="checkbox" class="ignore-discipline" data-discipline="4"> Ignorar disciplina
          </label>
        </div>
        <div class="discipline" data-index="5">
          <h3>PRÁTICAS INTERDISCIPLINARES DE EXTENSÃO, PESQUISA E ENSINO</h3>
          <label>Dificuldade:
            <input type="range" min="1" max="5" value="3" class="difficulty-slider" data-discipline="5">
            <span class="difficulty-label" id="label-5">Mediano</span>
          </label>
          <label>
            <input type="checkbox" class="ignore-discipline" data-discipline="5"> Ignorar disciplina
          </label>
        </div>
      </div>
      <button id="generateBtn">Gerar Cronograma</button>
    </section>
    
    <!-- Resultado -->
    <section id="resultado" class="hidden">
      <div class="section-header">Seu Cronograma de Estudos</div>
      <div id="scheduleOutput"></div>
      <p style="text-align:center; font-weight: 600; margin-top: 20px;">Tire print, esse é o seu cronograma!</p>
    </section>
  </div>
  
  <script>
    // Função para formatar horas (ex.: 2.6 => "2 horas e 36 minutos")
    function formatHours(hours) {
      let whole = Math.floor(hours);
      let minutes = Math.round((hours - whole) * 60);
      let result = "";
      if(whole > 0) {
        result += whole + " hora" + (whole > 1 ? "s" : "");
      }
      if(minutes > 0) {
        if(result !== "") result += " e ";
        result += minutes + " minuto" + (minutes > 1 ? "s" : "");
      }
      return result || "0 minutos";
    }
    
    // Transição da tela inicial para a configuração
    document.getElementById('startBtn').addEventListener('click', function() {
      document.querySelector('header').classList.add('hidden');
      document.getElementById('config').classList.remove('hidden');
    });
    
    // Funções para aumentar/diminuir as horas de cada dia
    document.querySelectorAll('.increase').forEach(function(button) {
      button.addEventListener('click', function() {
        let dayId = this.getAttribute('data-day');
        let input = document.getElementById(dayId);
        input.value = parseInt(input.value) + 1;
      });
    });
    document.querySelectorAll('.decrease').forEach(function(button) {
      button.addEventListener('click', function() {
        let dayId = this.getAttribute('data-day');
        let input = document.getElementById(dayId);
        if(parseInt(input.value) > 0) {
          input.value = parseInt(input.value) - 1;
        }
      });
    });
    
    // Mapeamento dos níveis de dificuldade e atualização da label e cor do slider
    const difficultyMapping = {
      1: {text: 'Fácil', color: '#4CAF50'},
      2: {text: 'Normal', color: '#FFC107'},
      3: {text: 'Mediano', color: '#FF9800'},
      4: {text: 'Difícil', color: '#F44336'},
      5: {text: 'Muito Difícil', color: '#B71C1C'}
    };
    
    document.querySelectorAll('.difficulty-slider').forEach(function(slider) {
      // Atualiza imediatamente o accent-color do slider
      slider.style.accentColor = difficultyMapping[slider.value].color;
      slider.addEventListener('input', function() {
        let value = this.value;
        let discId = this.getAttribute('data-discipline');
        let label = document.getElementById('label-' + discId);
        label.textContent = difficultyMapping[value].text;
        label.style.color = difficultyMapping[value].color;
        // Atualiza a cor do slider (thumb/track) se o navegador suportar accent-color
        this.style.accentColor = difficultyMapping[value].color;
      });
    });
    
    // Geração do cronograma
    document.getElementById('generateBtn').addEventListener('click', function() {
      const days = ['segunda', 'terca', 'quarta', 'quinta', 'sexta', 'sabado', 'domingo'];
      let availableHours = {};
      days.forEach(function(day) {
        let hours = parseFloat(document.getElementById(day).value);
        availableHours[day] = isNaN(hours) ? 0 : hours;
      });
      
      // Coleta dos dados das disciplinas
      const disciplineElements = document.querySelectorAll('.discipline');
      let disciplines = [];
      disciplineElements.forEach(function(el) {
        let index = el.getAttribute('data-index');
        let slider = el.querySelector('.difficulty-slider');
        let difficulty = parseFloat(slider.value);
        let ignore = el.querySelector('.ignore-discipline').checked;
        let name = el.querySelector('h3').textContent;
        disciplines.push({name: name, difficulty: difficulty, ignore: ignore});
      });
      
      // Filtra disciplinas ignoradas e calcula o total de dificuldade
      let activeDisciplines = disciplines.filter(d => !d.ignore);
      let totalDifficulty = activeDisciplines.reduce((sum, d) => sum + d.difficulty, 0);
      
      // Monta a tabela do cronograma com formatação aprimorada das horas
      let output = '<table>';
      output += '<thead><tr><th>Dia</th>';
      disciplines.forEach(function(d) {
        output += '<th>' + d.name + '</th>';
      });
      output += '<th>Total Disponível</th></tr></thead><tbody>';
      
      days.forEach(function(day) {
        output += '<tr>';
        let dayLabel = '';
        switch(day) {
          case 'segunda': dayLabel = 'Segunda-feira'; break;
          case 'terca': dayLabel = 'Terça-feira'; break;
          case 'quarta': dayLabel = 'Quarta-feira'; break;
          case 'quinta': dayLabel = 'Quinta-feira'; break;
          case 'sexta': dayLabel = 'Sexta-feira'; break;
          case 'sabado': dayLabel = 'Sábado'; break;
          case 'domingo': dayLabel = 'Domingo'; break;
        }
        output += '<td>' + dayLabel + '</td>';
        let dayTotal = availableHours[day];
        disciplines.forEach(function(d) {
          if(d.ignore || totalDifficulty === 0) {
            output += '<td>–</td>';
          } else {
            let allocated = dayTotal * (d.difficulty / totalDifficulty);
            output += '<td>' + formatHours(allocated) + '</td>';
          }
        });
        output += '<td>' + formatHours(dayTotal) + '</td>';
        output += '</tr>';
      });
      output += '</tbody></table>';
      
      document.getElementById('scheduleOutput').innerHTML = output;
      document.getElementById('config').classList.add('hidden');
      document.getElementById('resultado').classList.remove('hidden');
    });
  </script>
</body>
</html>
